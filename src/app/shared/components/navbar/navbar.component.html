<nav class="bg-green-900 shadow-lg text-white">
  <div class="w-11/12 mx-auto flex items-center justify-between p-4 md:p-6">
    <!-- Logo -->
    <a routerLink="/home" class="flex items-center space-x-1 rtl:space-x-reverse">
      <i class=".navbar-icon fa-solid fa-cart-shopping text-green-300"></i>
      <span class="self-center text-xl font-bold whitespace-nowrap">FreshCart</span>
    </a>

    <!-- Mobile menu button -->
    <button
      data-collapse-toggle="navbar-default"
      type="button"
      class="inline-flex items-center p-2 w-10 h-10 justify-center text-white rounded-lg md:hidden hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500"
      aria-controls="navbar-default"
      aria-expanded="false"
    >
      <span class="sr-only">Open main menu</span>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <!-- Navbar Links -->
    <div class="hidden md:flex md:items-center md:space-x-8" id="navbar-default">
      <ul class="flex items-center space-x-6 text-sm font-medium">
        @if(localIsLogin) {
          @for (item of pages; track $index) {
            <li>
              <a
                routerLink="{{ item.path }}"
                routerLinkActive="text-green-300 font-semibold"
                class="transition-colors duration-200 hover:text-green-200"
              >
                {{ item.title }}
              </a>
            </li>
          }
        }
      </ul>
    </div>

    <!-- Auth Links, Cart, and Toggle -->
    <div class="hidden md:flex items-center space-x-6">
      <ul class="flex items-center space-x-4 text-sm font-medium">
        @if(!localIsLogin) {
          @for (item of authpages; track $index) {
            <li>
              <a
                routerLink="{{ item.path }}"
                routerLinkActive="text-green-300 font-semibold"
                class="transition-colors duration-200 hover:text-green-200"
              >
                {{ item.title }}
              </a>
            </li>
          }
        }
        @if(localIsLogin) {
          <!-- Cart Icon -->
          <li routerLink="/cart" class="hover:scale-105 transition-all duration-300 cursor-pointer group">
            <div class="cart relative">
              <i class="fa-solid fa-cart-shopping text-xl text-green-200"></i>
              <span
                class="absolute -top-2 left-3 bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full shadow-md transform transition-transform duration-300 group-hover:scale-125"
              >
                {{ numOfCartItems }}
              </span>
            </div>
          </li>

          <!-- Logout -->
          <li>
            <span
              class="cursor-pointer transition-colors duration-200 hover:text-green-200"
              (click)="logOut()"
            >Logout</span>
          </li>
        }
      </ul>

      <!-- Dark Mode Toggle -->
      <button
        (click)="toggleDarkMode()"
        class="p-2 rounded-full bg-green-800 hover:bg-green-700 transition duration-200 focus:outline-none focus:ring-2 focus:ring-green-500"
        type="button"
        aria-label="Toggle dark mode"
      >
            @if(!isDarkMode) {
              <i class="fa-solid fa-moon text-white transition-all duration-300"></i>

            }
            @else {
              <i class="fa-solid fa-sun text-yellow-300 transition-all duration-300"></i>
            }
      </button>
    </div>

    <!-- Mobile Menu -->
    <div class="hidden w-full md:hidden" id="navbar-default">
      <ul class="flex flex-col p-4 mt-4 space-y-4 text-sm font-medium bg-green-800 rounded-lg">
        @if(localIsLogin) {
          @for (item of pages; track $index) {
            <li>
              <a
                routerLink="{{ item.path }}"
                routerLinkActive="text-green-300 font-semibold"
                class="block py-2 px-4 hover:bg-green-700 rounded transition duration-200"
              >
                {{ item.title }}
              </a>
            </li>
          }
        }
        @if(!localIsLogin) {
          @for (item of authpages; track $index) {
            <li>
              <a
                routerLink="{{ item.path }}"
                routerLinkActive="text-green-300 font-semibold"
                class="block py-2 px-4 hover:bg-green-700 rounded transition duration-200"
              >
                {{ item.title }}
              </a>
            </li>
          }
        }
        @if(localIsLogin) {
          <li>
            <a
              routerLink="/cart"
              class=" py-2 px-4 hover:bg-green-700 rounded transition duration-200 flex items-center space-x-2"
            >
              <i class="fa-solid fa-cart-shopping text-xl"></i>
              <span>Cart ({{ numOfCartItems }})</span>
            </a>
          </li>
          <li>
            <span
              class="block py-2 px-4 hover:bg-green-700 rounded transition duration-200 cursor-pointer"
              (click)="logOut()"
            >Logout</span>
          </li>
          <li>
            <button
              (click)="toggleDarkMode()"
              class="w-full text-left py-2 px-4 hover:bg-green-700 rounded transition duration-200 flex items-center space-x-2"
              type="button"
              aria-label="Toggle dark mode"
            >
            @if(!isDarkMode) {
              <i class="fa-solid fa-moon text-white"></i>

            }
            @else {
              <i class="fa-solid fa-sun text-yellow-300"></i>
            }
              <span>{{ isDarkMode ? 'Light Mode' : 'Dark Mode' }}</span>
            </button>
          </li>
        }
      </ul>
    </div>
  </div>
</nav>