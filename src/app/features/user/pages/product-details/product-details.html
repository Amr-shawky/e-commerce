@if (isLoading) {
  <div class="text-center py-10">
    <p class="text-lg font-medium text-gray-600">Loading product details...</p>
  </div>
} @else if (errorMessage) {
  <div class="text-red-500 text-center py-10 text-lg font-semibold">
    {{ errorMessage }}
  </div>
} @else if (product) {
  <div class="max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-10">
    <!-- Product Image -->
 <div class="relative">
  <owl-carousel-o [options]="carouselOptions">
    @for (img of product.images; track $index) {
      <ng-template carouselSlide>
        <img
          [src]="img"
          alt="{{ product.title }}"
          class="w-full h-96 object-cover rounded-2xl shadow-lg"
        />
      </ng-template>
    }
  </owl-carousel-o>
</div>

    <!-- Product Info -->
    <div>
      <h1 class="text-4xl font-bold mb-3 text-gray-800">{{ product.title }}</h1>
      <p class="text-gray-600 mb-6 leading-relaxed">{{ product.description }}</p>

      <!-- Price -->
      <div class="mb-6">
        <span class="text-3xl font-bold text-green-600">
          {{ product.priceAfterDiscount ? product.priceAfterDiscount : product.price }} EGP
        </span>
        @if (product.priceAfterDiscount) {
          <span class="line-through text-gray-400 ml-3 text-lg">
            {{ product.price }} EGP
          </span>
        }
      </div>

      <!-- Ratings -->
      <div class="flex items-center mb-6">
        <span class="text-yellow-500 text-xl">‚≠ê</span>
        <span class="ml-2 text-gray-700">
          {{ product.ratingsAverage }} / 5 ({{ product.ratingsQuantity }} reviews)
        </span>
      </div>

      <!-- Details -->
      <div class="space-y-2 mb-6">
        <p><span class="font-semibold">Category:</span> {{ product.category.name }}</p>
        <p><span class="font-semibold">Brand:</span> {{ product.brand.name }}</p>
        <p><span class="font-semibold">Available Quantity:</span> {{ product.quantity }}</p>
      </div>

      <!-- Colors -->
      @if (product.availableColors?.length) {
        <div class="mb-6">
          <p class="font-semibold mb-2">Available Colors:</p>
          <div class="flex gap-3">
            @for (color of product.availableColors; track $index) {
              <span
                class="w-10 h-10 rounded-full border-2 border-gray-300 cursor-pointer hover:scale-110 transition-transform"
                [style.backgroundColor]="color"
              ></span>
            }
          </div>
        </div>
      }

      <!-- Action Button -->
      <div>
        <button class="bg-green-600 text-white px-8 py-3 rounded-2xl shadow hover:bg-green-700 hover:shadow-lg transition">
          Add to Cart
        </button>
      </div>
    </div>
  </div>
}
